<table class="govuk-table">
  <tbody class="govuk-table__body">
  <tr class="govuk-table__row">
    <td class="govuk-table__header govuk-!-width-one-half">Handover Calculation History</td>
    <td class="govuk-table__cell govuk-!-width-one-half"></td>
  </tr>

  <% handover_calc = @offender.model.calculated_handover_date %>
  <% if handover_calc %>
    <% [handover_calc, *handover_calc.versions.map(&:reify)].each_with_index do |version, index| %>
      <tr class="govuk-table__row">
        <td class="govuk-table__cell"><%= index == 0 ? 'Current Version' : '' %></td>
        <td class="govuk-table__cell table_cell__left_align">
          <%= version.attributes.slice(*%w[start_date handover_date reason responsibility
                                           updated_at]).map { |k, v| "#{k} = #{v}" }.join(', ') %>
        </td>
      </tr>
    <% end %>
  <% end %>
  </tbody>
</table>
